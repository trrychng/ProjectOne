<!DOCTYPE html>
<html>
<head>
	<title>Kitty Test</title>
	<style>

		*{
			margin: 0;
			padding: 0;
		}
		#map {
			height: 500px;
			width: 100%;
		}
	</style>
</head>
<body>

<div id = "map"></div>

<script>
$("#maptab").on("click", function(){
	var latit = 0;
	var long = 0;
	var x = document.getElementById("map");

	function initMap() {

	console.log("is this being called first?");
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }

    function showPosition(position) {
	console.log("is this being called second?");
    latit = position.coords.latitude; 
    long = position.coords.longitude;
    console.log(latit);
    console.log(long);
    initMap();
	}


		console.log("is this being called third?");
		console.log(latit);
		console.log(long);

		var location = {lat: latit, lng: long};
		var map = new google.maps.Map(document.getElementById("map"), {
			zoom: 14,
			center: location
		});
		var marker = new google.maps.Marker({
			position: location,
			map: map
		})
	}
})

</script>
<script async defer src = "https://maps.googleapis.com/maps/api/js?key=AIzaSyBcdn9swuJs48KM8YOZhNlAT6uIz_ytGjw&libraries=places&callback=initMap"></script>



</body>
</html>